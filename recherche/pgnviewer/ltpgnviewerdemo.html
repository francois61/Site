<HTML>
<HEAD>
<META NAME="description" content="LT-PGN-VIEWER 3.4 is a free JavaScript PGN Viewer ">
<META NAME="author" content="Lutz Tautenhahn">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>LT-PGN-VIEWER DEMO</TITLE>
<style type='text/css'>
body { background-color:#E0C8A0;color:#000000;font-size:10pt;line-height:12pt;font-family:Verdana; }
</style>
<script language="JavaScript">
if (! parent.frames[0]) location.href="ltpgnviewer.html?ltpgnviewerdemo.html";
function OpenGame(GameNum)
{ parent.frames[0].SetTitle("Game "+GameNum);
  if (GameNum==1)
  { parent.frames[0].SetPgnMoveText('1. e4 g6 2. d4 d6 3. c4 Nd7 4. Nc3 e5 5. d5 Be7 6. Nf3 Ngf6 7. Bd3 Nc5 8. O-O Nxd3 9. Qxd3 h6 10. b4 Bd7 11. b5 a6 12. a4 axb5 13. cxb5 c5 14. Bd2 b6 15. Ra3 Qc8 16. Qc4 g5 17. Rfa1 g4 18. Ne1 h5 19. g3 h4 20. a5 hxg3 21. fxg3 bxa5 22. Rxa5 Rxa5 23. Rxa5 Qd8 24. Qa2 O-O 25. Nd3 c4 26. Nf2 Qb6 27. Kg2 Rc8 28. Nfd1 Qd4 29. Be3 Qd3 30. b6 Nxe4 31. b7 Re8 32. Ra8 Nxc3 33. Rxe8+ Bxe8 34. Nxc3 Qxe3 35. b8=Q Qf3+ 36. Kg1 Qe3+ 37. Qf2 Qc1+ 38. Kg2 Kf8 39. Qbb2 Qxb2 40. Qxb2 f5 41. Qb4 Bf7 42. Qxc4 Bd8 43. Qc6 Ke7 44. Nb5 e4 45. Qxd6+ Ke8 46. Nc7+ Bxc7 47. Qxc7 Bg6 48. d6 Kf8 49. Qe7+ Kg8 50. d7 Bf7 51. d8=Q+ Kg7 52. Qf6+ Kh7 53. Qdh8#');
    parent.frames[0].ApplySAN(''); //we need this line because game 5 isn't standard SAN
    parent.frames[0].Init('standard'); //don't use Init('') because game 4 isn't standard FEN
    parent.frames[0].MoveForward(1000);
  }
  if (GameNum==2)
  { parent.frames[0].SetPgnMoveText('1. d4 Nf6 2. c4 c6 3. Nc3 d5 4. e3 e6 5. Nf3 a6 6. Bd3 dxc4 7. Bxc4 Be7 8. O-O O-O 9. Ne5 Nbd7 10. a3 Nxe5 11. dxe5 Nd7 12. f4 Nb6 13. Bb3 Bd7 14. Bc2 Qc7 15. Qh5 g6 16. Qh6 Nc4 17. b3 Nb6 18. Ne4 Rad8 19. Nf6+ Bxf6 20. exf6 Qd6 21. Qg7#');
    parent.frames[0].ApplySAN(''); //we need this line because game 5 isn't standard SAN
    parent.frames[0].Init('standard'); //don't use Init('') because game 4 isn't standard FEN
    parent.frames[0].MoveForward(1000);
  }
  if (GameNum==3)
  { parent.frames[0].SetPgnMoveText('1. e4 c6 2. d4 d5 3. e5 c5 4. dxc5 e6 5. b4 Nc6 6. Bb5 Bd7 7. Bxc6 Bxc6 8. Nf3 a5 9. c3 axb4 10. cxb4 Ba4 11. Qd2 Be7 12. O-O Bb5 13. Re1 Nh6 14. Nc3 Bc4 15. a4 O-O 16. Bb2 Qd7 17. Nd4 Rfd8 18. a5 Qc7 19. Nd1 Ng4 20. Nf3 Rac8 21. h3 Nh6 22. Ne3 Ba6 23. Bd4 f6 24. exf6 Bxf6 25. Bxf6 gxf6 26. Nxd5 exd5 27. Qxh6 Qf7 28. Nd4 Bd3 29. Re3 Be4 30. Rg3+ Kh8 31. f3 Bd3 32. Rd1 Bc4 33. Nf5 Ra8 34. Rg7 Qg8 35. Rxg8+ Rxg8 36. Qxf6+ Rg7 37. Qxg7#'); 
    parent.frames[0].ApplySAN(''); //we need this line because game 5 isn't standard SAN
    parent.frames[0].Init('standard'); //don't use Init('') because game 4 isn't standard FEN
    parent.frames[0].MoveForward(1000);
  }
  if (GameNum==4)
  { parent.frames[0].SetPgnMoveText('1. .. Qa1+ 2. Kg2 Qxa3 3. Rc2 Qb4 4. Qf5 Rf8 5. Rc7 Qa4 6. Rxf7 Rxf7 7. Qxf7+ Kd8 8. Qf6+ Kc8 9. Qe6+ Kc7 10. Qe7+ Kb6 11. Rb2+ Kc5 12. Qc7+ Kd4 13. Rd2+ Kxe4 14. Qh7+ Ke3 15. Qd3#');
    parent.frames[0].ApplySAN(''); //we need this line because game 5 isn't standard SAN
    parent.frames[0].Init('r3k2r/1p3p2/p2p4/3Pp1Q1/3qP1p1/P5P1/4RR1P/6K1 b kq - 0 1');
  }
  if (GameNum==5)
  { parent.frames[0].SetPgnMoveText('1.e4 e5 2.Sf3 Sc6 3.Lb5 Ld6 4.0-0 Sf6 5.Te1 0-0 6.d4 Te8 7.Lg5 a6 8.Lc4 exd4 9.Sxd4 Sxd4 10.Dxd4 Le5 11.Lxf7+ Kxf7 12.Dc4+ d5 13.Db3 Le6 14.exd5 Lxd5 15.c4 Lxh2+ 16.Kxh2 Txe1 17.cxd5 Sg4+ 18.Kg3 Dxg5 19.d6+ Te6 20.f4 Df5 21.dxc7 Kg6');
    parent.frames[0].ApplySAN('KDTLSB');
    parent.frames[0].Init('standard');
    parent.frames[0].MoveForward(1000);
  }
}
function ShowFEN()
{ var ff=parent.frames[0].GetFEN();
  alert(ff);
}
</script>
</HEAD>
<BODY>
<H3>LT-PGN-VIEWER DEMO</H3>
This demo shows how you can use the LT-PGN-VIEWER for your own web projects:<BR>
You can write the game comment or any other text on the html page in the right frame and show the chess diagram in the left frame.
The chess diagram can be generated by a few JavaScript commands in your HTML page, similar to this:<BR><BR>
<B>
&lt;script language="JavaScript"&gt;<BR>
parent.frames[0].SetPgnMoveText('1. e4 g6 2. d4 d6 3. c4 Nd7 4. Nc3 e5 ....');<BR>
parent.frames[0].Init('');<BR>
parent.frames[0].MoveForward(54);<BR>
&lt;/script&gt;<BR>
</B>
<BR>
You can also provide a selection of games, for example like this:<BR>
<BR>
My recent chess games:
<FORM>
  <SELECT NAME="dest" onChange="OpenGame(this.options[selectedIndex].value)" SIZE=1>
      <OPTION VALUE=0>Choose a game !
      <OPTION VALUE=1>Me vs. my mum - Game 1  
      <OPTION VALUE=2>Me vs. my mum - Game 2  
      <OPTION VALUE=3>Me vs. my mum - Game 3  
  </SELECT>
</FORM>
<B>For the advanced user:</B><BR>
If you want to show a chess problem or you have a game starting from a certain position you can use the FEN notation similar to this:<BR><BR>
<B>
&lt;script language="JavaScript"&gt;<BR>
parent.frames[0].SetPgnMoveText('1. .. Qa1+ 2. Kg2 Qxa3 3. Rc2 Qb4 ....');<BR>
parent.frames[0].Init(<I>FEN notation</I>);<BR>
&lt;/script&gt;<BR>
</B>
<FORM>
<input type=button value="the black king is going for a walk" onClick="javascript:OpenGame(4)"> 
</FORM>
For the non-english speaking users there's a possibility to use a SAN notation in your own language, by using the JavaScript command<BR>
<B>parent.frames[0].ApplySAN(<I>your SAN</I>);</B>:
<FORM>
<input type=button value="view a game in german notation" onClick="javascript:OpenGame(5)"> 
</FORM>
You can even use the script as a pure engine without graphical interface to generate the FEN notation at a certain position in a game by using code similar to this:<BR><BR>
<B>
&lt;script language="JavaScript" src="ltpgnviewer.js"&gt;&lt;/script&gt;<BR>
&lt;script language="JavaScript"&gt;<BR>
SetPgnMoveText('1. e4 g6 2. d4 d6 3. c4 Nd7 4. Nc3 e5 ....');<BR>
Init('');<BR>
MoveForward(54);<BR>
var myFEN=GetFEN();<BR>
&lt;/script&gt;<BR>
</B>
<FORM>
<input type=button value="display the current FEN notation" onClick="javascript:ShowFEN()"> 
</FORM>
You can also rotate the board and allow the recording of moves via mouse click on the board
by using code similar to this:<BR><BR>
<B>
&lt;script language="JavaScript"&gt;<BR>
parent.frames[0].RotateBoard(true);<BR>
parent.frames[0].AllowRecording(true);<BR>
&lt;/script&gt;<BR>
</B>
<FORM>
<NOBR>
<input type=checkbox name="Rotated" value=1 onClick="javascript:parent.frames[0].RotateBoard(this.checked)">rotate board 
<input type=checkbox name="Recording" value=1 onClick="javascript:parent.frames[0].AllowRecording(this.checked)">allow recording
</NOBR></FORM>
<script language="JavaScript">
function Timer() //We have to wait until the left frame is loaded, else script error !
{ if ((parent.frames[0].SetPgnMoveText)&&(parent.frames[0].Init)&&(parent.frames[0].MoveForward))
  { parent.frames[0].SetPgnMoveText('1. e4 g6 2. d4 d6 3. c4 Nd7 4. Nc3 e5 5. d5 Be7 6. Nf3 Ngf6 7. Bd3 Nc5 8. O-O Nxd3 9. Qxd3 h6 10. b4 Bd7 11. b5 a6 12. a4 axb5 13. cxb5 c5 14. Bd2 b6 15. Ra3 Qc8 16. Qc4 g5 17. Rfa1 g4 18. Ne1 h5 19. g3 h4 20. a5 hxg3 21. fxg3 bxa5 22. Rxa5 Rxa5 23. Rxa5 Qd8 24. Qa2 O-O 25. Nd3 c4 26. Nf2 Qb6 27. Kg2 Rc8 28. Nfd1 Qd4 29. Be3 Qd3 30. b6 Nxe4 31. b7 Re8 32. Ra8 Nxc3 33. Rxe8+ Bxe8 34. Nxc3 Qxe3 35. b8=Q Qf3+ 36. Kg1 Qe3+ 37. Qf2 Qc1+ 38. Kg2 Kf8 39. Qbb2 Qxb2 40. Qxb2 f5 41. Qb4 Bf7 42. Qxc4 Bd8 43. Qc6 Ke7 44. Nb5 e4 45. Qxd6+ Ke8 46. Nc7+ Bxc7 47. Qxc7 Bg6 48. d6 Kf8 49. Qe7+ Kg8 50. d7 Bf7 51. d8=Q+ Kg7 52. Qf6+ Kh7 53. Qdh8#');
    parent.frames[0].Init('');
    parent.frames[0].MoveForward(54);
    clearInterval(TimerInterval);
  }
}
TimerInterval=setInterval("Timer()",1000);
</script>
</BODY>
</HTML>
